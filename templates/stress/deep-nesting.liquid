{% comment %}
Stress test: 10+ levels of nesting
Tests the template engine's handling of deeply nested structures
{% endcomment %}

<div class="level-1">
  {% if level_1 %}
    <div class="level-2">
      {% if level_2 %}
        <div class="level-3">
          {% if level_3 %}
            <div class="level-4">
              {% if level_4 %}
                <div class="level-5">
                  {% if level_5 %}
                    <div class="level-6">
                      {% if level_6 %}
                        <div class="level-7">
                          {% if level_7 %}
                            <div class="level-8">
                              {% if level_8 %}
                                <div class="level-9">
                                  {% if level_9 %}
                                    <div class="level-10">
                                      {% if level_10 %}
                                        <div class="level-11">
                                          {% if level_11 %}
                                            <div class="level-12">
                                              <span class="deepest">Reached level 12!</span>
                                              {% for item in deep_items %}
                                                <div class="deep-item">
                                                  {{ item.name }}
                                                  {% if item.children %}
                                                    {% for child in item.children %}
                                                      <div class="child">
                                                        {{ child.name }}
                                                        {% if child.grandchildren %}
                                                          {% for grandchild in child.grandchildren %}
                                                            <span class="grandchild">{{ grandchild }}</span>
                                                          {% endfor %}
                                                        {% endif %}
                                                      </div>
                                                    {% endfor %}
                                                  {% endif %}
                                                </div>
                                              {% endfor %}
                                            </div>
                                          {% else %}
                                            <span>Stopped at level 11</span>
                                          {% endif %}
                                        </div>
                                      {% else %}
                                        <span>Stopped at level 10</span>
                                      {% endif %}
                                    </div>
                                  {% else %}
                                    <span>Stopped at level 9</span>
                                  {% endif %}
                                </div>
                              {% else %}
                                <span>Stopped at level 8</span>
                              {% endif %}
                            </div>
                          {% else %}
                            <span>Stopped at level 7</span>
                          {% endif %}
                        </div>
                      {% else %}
                        <span>Stopped at level 6</span>
                      {% endif %}
                    </div>
                  {% else %}
                    <span>Stopped at level 5</span>
                  {% endif %}
                </div>
              {% else %}
                <span>Stopped at level 4</span>
              {% endif %}
            </div>
          {% else %}
            <span>Stopped at level 3</span>
          {% endif %}
        </div>
      {% else %}
        <span>Stopped at level 2</span>
      {% endif %}
    </div>
  {% else %}
    <span>Stopped at level 1</span>
  {% endif %}
</div>

{% comment %} Additional nested loops {% endcomment %}
{% for a in nested_a %}
  <div class="nest-a">{{ a.value }}
    {% for b in a.items %}
      <div class="nest-b">{{ b.value }}
        {% for c in b.items %}
          <div class="nest-c">{{ c.value }}
            {% for d in c.items %}
              <div class="nest-d">{{ d.value }}
                {% for e in d.items %}
                  <span class="nest-e">{{ e }}</span>
                {% endfor %}
              </div>
            {% endfor %}
          </div>
        {% endfor %}
      </div>
    {% endfor %}
  </div>
{% endfor %}
