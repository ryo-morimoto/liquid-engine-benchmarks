{%- comment -%}
Unit test: nested if conditions
Measures performance of deeply nested conditionals
{%- endcomment -%}
{% assign product = products | first %}
{% assign variant = product.variants | first %}
{% if product %}
  {% if variant.available %}
    {% if product.price > 100 %}
      {% if variant.price > 50 %}
Premium featured product: {{ product.title }}
      {% else %}
Premium product: {{ product.title }}
      {% endif %}
    {% else %}
      {% if product.price < 20 %}
On sale: {{ product.title }}
      {% else %}
Regular: {{ product.title }}
      {% endif %}
    {% endif %}
  {% else %}
Out of stock: {{ product.title }}
  {% endif %}
{% else %}
No product
{% endif %}
