{%- comment -%}
Composite test: nested loops with filters
Double loop with filter operations
{%- endcomment -%}
{% for product in products %}
  <div class="product">
    <h2>{{ product.title | capitalize }}</h2>
    {% for variant in product.variants %}
      <span>{{ variant.title | downcase }}: {{ variant.price | times: 0.9 | round }}</span>
    {% endfor %}
  </div>
{% endfor %}
