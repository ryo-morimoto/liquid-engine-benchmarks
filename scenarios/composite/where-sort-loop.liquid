{%- comment -%}
Composite test: filter then loop
Array filtering and sorting before iteration
{%- endcomment -%}
{% assign product = products | first %}
{% assign available = product.variants | where: 'available', true | sort: 'price' %}
{% for variant in available %}
{{ variant.title }}: {{ variant.price }}
{% endfor %}
